<!DOCTYPE html>
<html lang="en">
    <%- include('../partials/head.ejs') %> 
    <script type="text/javascript" src="/js/registerVal.js"></script>
    <body>
        <!--TOP NAV-->
        <%- include('../partials/header.ejs') %>

        <main class="main-register">
            <!-- Formulario de Registro -->
            <div class="register-section">
                <div class="register-box">
                    <h3 class="titulo-registrar">Creá tu cuenta</h3>
                    <div class="registerErrorMessage">
                        <% if (locals.errors && errors.registerError) { %>
                            <div class="text-danger">
                                <%= errors.registerError %> 
                            </div>
                        <% } %>
                    </div>
                    <form action="/users/register" method="POST" enctype="multipart/form-data" class="register-form"  autocomplete="on">
                        <div class="form-element">
                            <label for="email" class="form-label">E-mail:</label>
                            <input type="email" id="r-email" class="r-email" name="email" value="<%= locals.oldData ? oldData.email : '' %>" required>
                            <% if (locals.errors && errors.email) { %>
                                <div class="text-danger">
                                    <%= errors.email.msg %> 
                                </div>
                            <% } %>
                            <div class="textEmail"></div>
                        </div>
                        
                        <div class="form-element">
                            <label for="first_name" class="form-label">Nombre:</label>
                            <input type="text" id="r-nombre" class="r-nombre" name="first_name" value="<%= locals.oldData ? oldData.first_name : null %>"required>
                            <% if (locals.errors && errors.first_name) { %>
                                <div class="text-danger">
                                    <%= errors.first_name.msg %> 
                                </div>
                            <% } %>
                            <div class="textName"></div>
                        </div>
                        
                        <div class="form-element">
                            <label for="last_name" class="form-label">Apellido:</label>
                            <input type="text" id="r-apellido" class="r-apellido" name="last_name" value="<%= locals.oldData ? oldData.last_name : null %>" required>
                            <% if (locals.errors && errors.last_name) { %>
                                <div class="text-danger">
                                    <%= errors.last_name.msg %> 
                                </div>
                            <% } %>
                            <div class="textLastName"></div>
                        </div>

                        <div class="form-element">
                            <label for="phone_number" class="form-label">Teléfono:</label>
                            <input type="text" id="phone_number" class="telefono" name="phone_number" value="<%= locals.oldData ? oldData.phone_number : null %>" required>
                            <% if (locals.errors && errors.phone_number) { %>
                                <div class="text-danger">
                                    <%= errors.phone_number.msg %> 
                                </div>
                            <% } %>
                            <div class="textLastName"></div>
                        </div>

                        <div class="form-element">
                            <label for="password" class="form-label">Contraseña:</label>
                            <input type="password" id="r-contraseña" class="r-contraseña" name="password" required>
                            <% if (locals.errors && errors.password) { %>
                                <div class="text-danger">
                                    <%= errors.password.msg %> 
                                </div>
                            <% } %>
                            <div class="textPass"></div>
                        </div>
                        
                        <div class="form-element">
                            <label for="confirmPass" class="form-label">Confirma Contraseña:</label>
                            <input type="password" id="r-confirmar-c" class="confirmarPass" name="confirmPass" required>
                            <% if (locals.errors && errors.confirmPass) { %>
                                <div class="text-danger">
                                    <%= errors.confirmPass.msg %> 
                                </div>
                            <% } %>
                            <div class="textPass2"></div>
                        </div>

                        <div class="form-element lastElement">
                            <label for="avatar" class="form-label">Imagen de perfil:</label>
                            <input type="file" name="avatar" id="upload-file" class="avatar" value="<%= locals.oldData ? oldData.avatar : null %>">
                            <div class="textAvatar"></div>
                        </div>

                        <button type="submit" value="Registrarse" class="registrar-b">Registrarse</button>
                    </form>
                </div>
            </div>
        </main>
        <%- include('../partials/footer.ejs') %> 
    </body>
</html>